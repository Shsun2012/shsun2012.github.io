<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="">
    <meta name="keywords"  content="">
    <meta name="theme-color" content="#000000">
    
    <!-- Open Graph -->
    <meta property="og:title" content="MLR - shsun的博客 | Shsun">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="Multiple linear regression (MLR) is a statistic technique which uses some independent variables (IV) to predict a dependent variable (DV). Multiple regression is the extension of ordinary least-squ...">
    
    <meta property="article:published_time" content="2020-01-31T00:00:00Z">
    
    
    <meta property="article:author" content="Shsun">
    
    
    <meta property="article:tag" content="R">
    
    
    <meta property="og:image" content="https://shsun2012.github.io/img/about-bg.jpg">
    <meta property="og:url" content="https://shsun2012.github.io/2020/01/31/mlr/">
    <meta property="og:site_name" content="shsun的博客 | Shsun">
    
    <title>MLR - shsun的博客 | Shsun</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://shsun2012.github.io/2020/01/31/mlr/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">

    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Shsun</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    
                    
                    
                    
                    <li>
                        <a href="/about/">Biography</a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="/archive/">Archive</a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li>
                        <a href="/research/">Research</a>
                    </li>
                    
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from
     * $toggle/$collapse will break global delegation.
     *
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg');
        background: ;
    }

    
</style>

<header class="intro-header style-text" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=R" title="R">R</a>
                        
                    </div>
                    <h1>MLR</h1>
                    
                    <h2 class="subheading">Review</h2>
                    <span class="meta">Posted by Shsun on January 31, 2020</span>
                </div>
            </div>
        </div>
    </div>
</header>






<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<p>Multiple linear regression (MLR) is a statistic technique which uses some <strong>independent variables</strong> (IV) to predict a <strong>dependent variable</strong> (DV). Multiple regression is the extension of <strong>ordinary least-squares (OLS) regression</strong> that involves more than one explanatory variable.</p>

<h4 id="overfitting-and-multicollinearity">Overfitting and Multicollinearity</h4>
<p>Pre-work is needed to prevent overfitting and multicollinearity. To add more IV can explain more variation, but can lead to <strong>overfitting</strong>. Not only the independent variables potentially related to the dependent variable (DV), they are also potentially related to each other, which is called <strong>multicollinearity</strong>. The ideal is for all of the independent variables to be correlated with the dependent variable but NOT with each other.<br />
First, we should check the relationship between each IV and the DV using scatterplots and correlations. Then check the relatiionships among the IVs using scatterplots and correlations. The non-redundant IVs can be used to find the best fitting model.</p>

<h4 id="multiple-linear-regression">Multiple Linear Regression</h4>
<p>Multiple regression model:  <img src="https://latex.codecogs.com/gif.latex?y&space;=&space;\beta&space;_{0}&space;&plus;&space;\beta&space;_{1}x_{1}&space;&plus;&space;\beta&space;_{2}&space;x_{2}&plus;&space;...&space;&plus;&space;\beta&space;_{p}x_{p}&space;&plus;&space;\epsilon" alt="equation" /><br />
Multiple regression equation:![equation](https://latex.codecogs.com/gif.latex?E\left&amp;space;(&amp;space;y&amp;space;\right&amp;space;&amp;space;=&amp;space;\beta&amp;space;<em>{0}&amp;space;&amp;plus;&amp;space;\beta&amp;space;</em>{1}x_{1}&amp;space;&amp;plus;&amp;space;\beta&amp;space;<em>{2}&amp;space;x</em>{2}&amp;plus;&amp;space;…&amp;space;&amp;plus;&amp;space;\beta&amp;space;<em>{p}x</em>{p})<br />
Estimated multiple regression equation:  <img src="https://latex.codecogs.com/gif.latex?\hat{y}=b&space;_{0}&space;&plus;b_{1}x_{1}&space;&plus;&space;b_{2}&space;x_{2}&plus;&space;...&space;&plus;&space;b&space;_{p}x_{p}" alt="equation" /></p>

<p>Each coefficient is estimated change in y corresponding to one unit change in a variable, while all other variables are held constant.</p>

<h4 id="model-selection">Model Selection</h4>
<p>Two types of MLR model selection: forward selection, backward selection. Forward Selection starts with the linear regression model with the most significant IV. Then we add the remaining IV one at a time. The process is stopped when no significant extensions are possible. Backward selection starts with a full model which includes all IVs. We remove the most insignificant IV one at a time. We stop when all p values are significant.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> summary(lm(Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 + X8))
</pre></td></tr></tbody></table></code></pre></div></div>
<p>We can do VIF (Variance inflation factor) with <code class="language-plaintext highlighter-rouge">vif</code> function in package <code class="language-plaintext highlighter-rouge">car</code> to check multicollinearity.</p>

<p>The coefficient of determination (R-squared) is a statistical metric that is used to measure how much of the variation in outcome can be explained by the variation in the independent variables. R-squared always increases as more predictors are added to the MLR model even though the predictors may not be related to the outcome variable.</p>

<h4 id="relative-importance-of-variables">Relative Importance of Variables</h4>
<p><a href="https://github.com/martinctc/rwa">Relative weight analysis (rwa)</a> in R provides a <code class="language-plaintext highlighter-rouge">rwa()</code> function to calculate relative importance of predictors. Reference can be found <a href="https://link.springer.com/content/pdf/10.1007%2Fs10869-014-9351-z.pdf">here</a>. Another method is <strong>Dominance Analysis (DA)</strong>.</p>

<p>DA defines importance in a unique way by comparing pairs of predictors (from a selected model) across all subset models to make the determination of relative importance or dominance (Azen et al., 2009). In ordinary least squares regression with p predictors and a continous outcome, DA defines the additional contribution of any given predictor to a given subset model as the change in R2 when the predictor is added to the model. DA considers one predictor to completely dominate another if its additional contribution to every possible subset model is greater than that of the other predictor.</p>

<p>We can use the <a href="https://rdrr.io/github/clbustos/dominanceAnalysis/man/dominanceanalysis-package.html">dominanceanalysis</a> package in R. DA relies on the R-squared values of all possible combinations of predictors and measures relative importance by doing pairwise comparison of all predictors in the model as they relate to an outcome variable. DA is used to determine if a predctor is more significant than other predictors. There are three types of dominance criteria: complete, conditional, and general. These three criteria works in a hierachical way: complete dominance implies conditional dominance, conditional dominance implies general dominance. It is recommended to use complete dominance. To evaluate the robustness of DA results, we can use bootstrap analysis with <code class="language-plaintext highlighter-rouge">bootDominanceAnalysis</code>.</p>

<h6 id="reference">Reference</h6>
<ol>
  <li><a href="https://www.youtube.com/watch?v=dQNpSa-bq4M">Multiple Linear Regression, the very basics</a></li>
  <li><a href="https://link.springer.com/content/pdf/10.1007%2Fs10869-014-9351-z.pdf">RWA Web: A Free, Comprehensive, Web-Based, and User-Friendly Tool for Relative Weight Analyses</a></li>
  <li><a href="https://www.investopedia.com/terms/m/mlr.asp">MLR definition</a></li>
  <li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4557879/pdf/nihms713005.pdf">A Dominance Analysis Approach to Determining Predictor Importance in Third, Seventh, and Tenth Grade Reading Comprehension Skills</a></li>
  <li><a href="https://www.jstor.org/stable/40263507?seq=1#metadata_info_tab_contents">Using Dominace Analysis to Determine Predictor Importance in Logistic Regression</a></li>
</ol>


                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/01/16/anova/" data-toggle="tooltip" data-placement="top" title="anova">
                        Previous<br>
                        <span>anova</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2020/02/06/qr/" data-toggle="tooltip" data-placement="top" title="Quantile regression (QR)">
                        Next<br>
                        <span>Quantile regression (QR)</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

            </div>

    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        </a>
        
        
                <a data-sort="0011" 
                    href="/archive/?tag=Blog"
                    title="Blog"
                    rel="3">Blog</a>
        
                <a data-sort="0006" 
                    href="/archive/?tag=R"
                    title="R"
                    rel="8">R</a>
        
                <a data-sort="0012" 
                    href="/archive/?tag=PCA"
                    title="PCA"
                    rel="2">PCA
    </div>
</section>


                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/Shsun2012">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Shsun 2022
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->





<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->



<!-- Side Catalog -->



<!-- Multi-Lingual -->




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
